# 套路篇：优化性能问题的一般方法

同性能分析一样，也可以从系统和应用程序，这两个不同角度来进行性能优化。

## 系统优化

USE 法可以用来分析系统软硬件资源的瓶颈，相应的优化方法，也是从这些资源瓶颈入手。

可以大致分为四个方面：CPU 性能、内存性能、磁盘和文件系统 I/O 性能，以及网络性能。

### CPU 优化

### 内存优化

### 磁盘和文件系统 I/O 优化

### 网络优化

## 应用程序优化

## 小结

- 从系统角度而言，CPU、内存、磁盘和文件系统 I/O、网络以及内核数据结构等各类软硬件资源，为应用程序提供了运行的环境，也是我们性能优化的重点对象。

- 从应用程序而言，单机优化方法可以通过降低 CPU 使用，减少数据访问和网络 I/O，使用缓存、异步处理，使用多进程、多线程等；也可以通过调整应用程序架构，利用水平扩展，将任务调度到多台服务器中并行处理等。以上都是常用的性化思路、方法。

!!! attention
    一定要避免过早优化。性能优化往往会提高复杂性，这样既降低了可维护性，也为适应复杂多变的新需求带来了障碍。

    性能优化最好是逐步完善，动态进行。
    
    首先保证能满足当前的性能要求。当发现性能不满足要求或者出现性能瓶颈后，再根据性能分析的结果，选择最重要的性能问题进行优化。